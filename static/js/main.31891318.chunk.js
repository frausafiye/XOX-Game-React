(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(19)},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(5),i=n(1),c=n(2),o=n(3),u=Object(a.createContext)("");function s(e){var t=Object(a.useState)([{id:0,value:null,active:!1},{id:1,value:null,active:!1},{id:2,value:null,active:!1},{id:3,value:null,active:!1},{id:4,value:null,active:!1},{id:5,value:null,active:!1},{id:6,value:null,active:!1},{id:7,value:null,active:!1},{id:8,value:null,active:!1}]),n=Object(o.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)("player1"),s=Object(o.a)(c,2),v=s[0],d=s[1],m=Object(a.useState)({player1:0,player2:0}),b=Object(o.a)(m,2),f=b[0],p=b[1],y=Object(a.useState)(null),O=Object(o.a)(y,2),g=O[0],j=O[1],E=Object(a.useState)([]),h=Object(o.a)(E,2),x=h[0],C=h[1];return l.a.createElement(u.Provider,{value:{matrix:r,setMatrix:i,players:["player1","player2"],activePlayer:v,setActivePlayer:d,score:f,setScore:p,winner:g,setWinner:j,overlinedLines:x,setOverlinedLines:C}},e.children)}var v=function(e,t,n){var a=n,l=function(e){var t=e.map((function(e){return e.value}));return t.length&&t[0]===t[1]&&t[0]===t[2]?(a+=10,e):[]},r=[],i=function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];n&&n.length&&r.push({line:n,direction:a})};return i(function(e){var n=[];return n=e%3===0?[t[e],t[e+1],t[e+2]]:e%3===2?[t[e-2],t[e-1],t[e]]:[t[e-1],t[e],t[e+1]],[l(n),"horizontal"]}(e)),i(function(e){var n=[];return n=e<3?[t[e],t[e+3],t[e+6]]:e>=3&&e<=5?[t[e-3],t[e],t[e+3]]:[t[e],t[e-3],t[e-6]],[l(n),"vertical"]}(e)),i(function(e){var n=[];return 2===e||4===e||6===e?(n=[t[2],t[4],t[6]],[l(n),"diagonalToLeftBottom"]):0===e||4===e||8===e?(n=[t[0],t[4],t[8]],[l(n),"diagonalToRightBottom"]):[]}(e)),{lastScore:a,linesToOverline:r}};n(11),n(12),n(13);function d(e){var t=Object(a.useContext)(u),n=t.matrix,s=t.setMatrix,d=t.players,m=t.activePlayer,b=t.setActivePlayer,f=t.score,p=t.setScore,y=t.setWinner,O=t.overlinedLines,g=t.setOverlinedLines,j=n.filter((function(e){return!0===e.active})),E=Object(a.useState)(null),h=Object(o.a)(E,2),x=h[0],C=h[1],N=function(e){j.length&&C(e)};return Object(a.useEffect)((function(){0===n.filter((function(e){return null===e.value})).length&&(f.player1<f.player2?y("Player2"):f.player2<f.player1?y("Player1"):y("draw"))}),[f]),l.a.createElement("div",{className:"player1"===e.player?"blue container":"red container"},l.a.createElement("div",{className:"players-nav"},l.a.createElement("h2",null,"player1"===e.player?"PLAYER 1":"PLAYER 2")),m===e.player&&l.a.createElement("div",{className:"flex-container"},l.a.createElement("div",{className:"button-box"},l.a.createElement("button",{onClick:function(){return N("X")},className:"X"===x?"btn selected":"btn"},"X")),l.a.createElement("div",{className:"button-box"},l.a.createElement("button",{onClick:function(){return N("O")},className:"O"===x?"btn selected":"btn"},"O")),l.a.createElement("div",{className:"button-box"},l.a.createElement("button",{onClick:function(){return function(){if(j.length&&x){C(null);var e=Object(c.a)(Object(c.a)({},j[0]),{},{value:x,active:!1}),t=Object(i.a)(n);t.splice(j[0].id,1,e),s(t);var a=v(j[0].id,t,f[m]),l=a.lastScore,o=a.linesToOverline;p(Object(c.a)(Object(c.a)({},f),{},Object(r.a)({},m,l)));var u=d.filter((function(e){return e!==m}));b.apply(void 0,Object(i.a)(u)),g([].concat(Object(i.a)(O),Object(i.a)(o)))}}()},className:"btn"},"add"))),l.a.createElement("p",null,"Score:",f[e.player]))}n(14);var m=function(e){var t=e.directionsClass,n=e.direction,a=e.edgesToShorten,r={horizontal:["left","right"],vertical:["top","bottom"],diagonalToLeftBottom:["left-bottom","right-top"],diagonalToRightBottom:["right-bottom","left-top"]},i=a.filter((function(e){return r[n].includes(e)})).map((function(e){return"short-on-"+e})).join(" "),c="horizontal"===n?"line-horizontal":"vertical"===n?"line-vertical":"diagonalToLeftBottom"===n?"line-diagonal-left-bottom":"line-diagonal-right-bottom";return console.log("className ",c+" "+i),l.a.createElement("span",{style:{display:t.includes(n)?"block":"none"},className:c+" "+i},"-")},b=function(e){var t=e.id,n=e.overlineDirections,a=e.isActive,r=e.selectHandler,i=e.value,c=a?"active":"",o=n.length?n.join(" "):"",u=[{edge:"left",cells:[0,3,6]},{edge:"right",cells:[2,5,8]},{edge:"top",cells:[0,1,2]},{edge:"bottom",cells:[6,7,8]},{edge:"right-top",cells:[2]},{edge:"right-bottom",cells:[8]},{edge:"left-top",cells:[0]},{edge:"left-bottom",cells:[6]}].filter((function(e){return e.cells.includes(t)})).map((function(e){return e.edge}));return console.log("id ",t," edgeDirectionsForCell: ",u),l.a.createElement("td",{key:t,onClick:function(){return r(t)},className:c},["horizontal","vertical","diagonalToLeftBottom","diagonalToRightBottom"].map((function(e){return l.a.createElement(m,{directionsClass:o,direction:e,edgesToShorten:u})})),l.a.createElement("div",null,i))},f=function(e){var t=e.i,n=e.line,a=e.selectHandler,r=e.overlinedCells;return l.a.createElement("tr",{key:t},n.map((function(e){var t=[];return r.map((function(n){n.id===e.id&&(t=[].concat(Object(i.a)(t),[n.direction]))})),l.a.createElement(b,{id:e.id,overlineDirections:t,selectHandler:a,value:e.value,isActive:e.active})})))};function p(){var e=Object(a.useContext)(u),t=e.matrix,n=e.setMatrix,r=e.overlinedLines.flatMap((function(e){return e.line.map((function(t){return{id:t.id,direction:e.direction}}))}));console.log(r);var o=[Object(i.a)(t.slice(0,3)),Object(i.a)(t.slice(3,6)),Object(i.a)(t.slice(6))],s=function(e){var a=Object(i.a)(t).map((function(e){return Object(c.a)(Object(c.a)({},e),{},{active:!1})}));null===a[e].value&&(a.splice(e,1,{id:e,value:null,active:!0}),n(a))};return l.a.createElement("table",null,l.a.createElement("tbody",null,o.map((function(e,t){return l.a.createElement(f,{key:t,line:e,selectHandler:s,overlinedCells:r})}))))}n(15);function y(){var e=Object(a.useContext)(u),t=e.winner,n=e.setWinner,r=e.score,o=e.setScore,s=e.setActivePlayer,v=e.matrix,d=e.setMatrix,m=e.setOverlinedLines;return t&&l.a.createElement("div",{className:"winnerbox"},l.a.createElement("div",{className:"players-box"},l.a.createElement("h2",null,"Player 1: ",r.player1),l.a.createElement("br",null),l.a.createElement("h2",null,"Player 2: ",r.player2)),"draw"===t?l.a.createElement("h1",null,"Draw"):l.a.createElement("h1",null,"Winner: ",t),l.a.createElement("button",{className:"winner-btn",onClick:function(){return function(){n(null),o({player1:0,player2:0}),s("player1");var e=Object(i.a)(v).map((function(e){return Object(c.a)(Object(c.a)({},e),{},{value:null,active:!1})}));d(e),m([])}()}},"play again"))}var O=function(){var e=Object(a.useContext)(u).winner;return l.a.createElement("div",{className:"App",style:{display:"flex",justifyContent:"space-between"}},l.a.createElement(d,{player:"player1"}),e?l.a.createElement(y,null):l.a.createElement(p,null),l.a.createElement(d,{player:"player2"}))},g=n(8);n.n(g).a.render(l.a.createElement(s,null,l.a.createElement(O,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.31891318.chunk.js.map